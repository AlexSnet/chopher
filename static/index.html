<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Chopher - the musical Gopher</title>

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  <link rel="stylesheet" href="/style.css" charset="utf-8">
  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
  <div class="container">
    <div class="row">
      <div class="col-xs-12 col-md-6 col-md-offset-3" co>
        <h1>Chopin + Gopher = Chopher</h1>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 col-md-6 col-md-offset-3">
        <p>
          Chopher is an experimental project for the <a href="http://gophergala.com/">2016. Gopher Gala</a>.
        </p>
        <p>
          Did you ever wander what your source code sounded like? Or what songs any files on your computer could be hiding? Wander no more, because Chopher is here to compose those songs for you.
        </p>
        <p>

          Just select a <strong>file smaller then 2MB but larger then 17B</strong>(why, because I'm too tired to implement proper error messages at this point), push that submit button, and your file gets uploaded, processed in memory and you receive your very own song!
        </p>
        <p>
          If you are curious about the implementation or are suspicious about uploading files to random server, take a look at the source code on <a href="https://github.com/Aorioli/chopher">GitHub</a>, there is an example generated file there as well.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 col-md-6 col-md-offset-3">
        <form enctype="multipart/form-data" action="/upload" method="post">
          <div class="input-group">
            <span class="input-group-btn">
              <span class="btn btn-primary btn-file">
              Browse <input type="file" name="file" id="upload">
            </span>
            </span>
            <input type="text" class="form-control" placeholder="">
            <span class="input-group-btn">
              <input class="btn btn-success" type="submit" value="SUBMIT" />
            </span>
          </div>
        </form>
      </div>
    </div>
    <div class="row">
      <div class="col-md-4 gopher-container"></div>
    </div>
  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
  <script type="text/javascript">
    $(document).on('change', '.btn-file :file', function() {
      var input = $(this),
        numFiles = input.get(0).files ? input.get(0).files.length : 1,
        label = input.val().replace(/\\/g, '/').replace(/.*\//, '');
      input.trigger('fileselect', [numFiles, label]);
    });

    $(document).ready(function() {
      $('.btn-file :file').on('fileselect', function(event, numFiles, label) {

        var input = $(this).parents('.input-group').find(':text'),
          log = numFiles > 1 ? numFiles + ' files selected' : label;

        if (input.length) {
          input.val(log);
        }
      });
    });
  </script>
</body>

</html>
